import{r as a,W as w,j as e,a as u}from"./app-DecQ0f_S.js";import{R as v}from"./index-e435n7mr.js";import{N as C}from"./notyf.min-DLu_xjpT.js";import"./iconBase-DWhxbjqT.js";const b=new C,L=({data:l})=>{const[n,j]=a.useState(""),[c,S]=a.useState(l),[o,i]=a.useState(1),[d]=a.useState(10);a.useEffect(()=>{},[n,l]);const p=t=>{j(t.target.value),i(1)},{delete:N}=w(),f=(t,r)=>{t.preventDefault(),confirm("Are you sure you want to delete this record?")&&N(`/Client/${r}`,{onSuccess:()=>{b.success("Client deleted successfully!"),location.reload()},onError:()=>{b.error("Failed to delete data.")}})},x=o*d,h=x-d,m=c.slice(h,x),g=Math.ceil(c.length/d),y=Array.from({length:g},(t,r)=>r+1);return e.jsx(AdminLayout,{children:e.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("input",{type:"text",value:n,onChange:p,placeholder:"Search data...",className:"w-[60%] p-2 border border-gray-300 rounded-md"}),e.jsx(u,{href:"Client/addclient",className:"px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600",children:"Add Client"}),e.jsx(u,{href:"Client/",className:"px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600",children:"Client List"})]}),e.jsxs("table",{className:"w-full border border-collapse table-auto",children:[e.jsx("thead",{className:"text-white bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left border",children:"SL No"}),e.jsx("th",{className:"p-3 text-left border",children:"Image"}),e.jsx("th",{className:"p-3 text-left border",children:"Client Name"}),e.jsx("th",{className:"p-3 text-left border",children:"Address "}),e.jsx("th",{className:"p-3 text-left border",children:"Mobile Number"}),e.jsx("th",{className:"p-3 text-center border",children:"Eamil"}),e.jsx("th",{className:"p-3 text-left border",children:"Action"})]})}),e.jsx("tbody",{children:m.length>0?m.map((t,r)=>e.jsxs("tr",{className:"odd:bg-white even:bg-gray-100",children:[e.jsx("td",{className:"p-3 border",children:h+r+1}),e.jsx("td",{className:"p-3 border",children:e.jsx("img",{src:`${t.photo}`,alt:`${t.name}'s photo`,style:{maxWidth:"100px",maxHeight:"100px"}})}),e.jsx("td",{className:"p-3 border",children:t.first_name+" "+t.last_name}),e.jsx("td",{className:"p-3 border",children:typeof t.address=="string"&&t.address.trim()!==""?(()=>{try{const s=JSON.parse(t.address);return Array.isArray(s)?s.map(A=>A.address).join(", "):"Invalid Address Format"}catch{return"Invalid Address Format"}})():Array.isArray(t.address)?t.address.map(s=>s.address).join(", "):"No Address"}),e.jsx("td",{className:"p-3 border",children:t.mobile_no}),e.jsx("td",{className:"p-3 border",children:t.email}),e.jsx("td",{className:"p-3 text-center border",children:e.jsx("div",{className:"flex justify-center space-x-3",children:e.jsx("button",{className:"p-2 text-white bg-red-500 rounded",onClick:s=>f(s,t.user_id),children:e.jsx(v,{})})})})]},t.user_id)):e.jsxs("tr",{children:[e.jsx("td",{colSpan:"18",className:"p-3 text-center",children:"No data found"})," "]})})]}),e.jsx("div",{className:"flex justify-center mt-4",children:y.map(t=>e.jsx("button",{onClick:()=>i(t),className:`px-4 py-2 mx-1 rounded ${o===t?"bg-blue-500 text-white":"bg-gray-200"}`,children:t},t))})]})})};export{L as default};
