import{r as a,j as e,a as c}from"./app-DecQ0f_S.js";import{H as v,N as y}from"./Nav-BWBa_EZw.js";import C from"./asignview-DTw0K1-S.js";import"./iconBase-DWhxbjqT.js";import"./index-BPKSu1J7.js";import"./index-c1-G4gL8.js";import"./choices.min-DQfvTG_5.js";import"./notyf.min-DLu_xjpT.js";const R=({user:r,employee:E,user_type:t,projs:d,projects:A,query:i,usrrr:l,projectsss:n,taskss:m,holidays:o,leave:x,notif:h,assin:b,emp:j,results:p,projecteach:f,totalHours:u})=>{const[N,g]=a.useState(!1),[w,_]=a.useState([]);return a.useEffect(()=>{Array.isArray(t)?_(t):console.error("Expected user_type to be an array:",t)},[t]),e.jsxs("div",{className:`${r&&r!=="customer"?"w-[85.2%]":"w-full"} h-full absolute right-0 overflow-hidden`,onClick:s=>g(!N),children:[e.jsx(v,{user:r,notif:h}),e.jsx(y,{user_type:t}),r&&r!=="customer"?e.jsxs(a.Fragment,{children:[e.jsx("div",{className:"px-8 table-section rounded-b-md",children:e.jsx("div",{className:"w-full ",children:e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsx(c,{href:"projects",children:e.jsxs("div",{className:"w-[80%] grid place-items-center  shadow-md p-[2rem] bg-[#63D9CA] ",children:[e.jsx("h1",{className:"text-[1.5rem] text-white",children:l===1?e.jsx("p",{children:n}):e.jsx("p",{children:f})}),e.jsx("h1",{className:"text-white text-[1.2rem]",children:"Total Project"})]})}),e.jsx(c,{href:"project-task-assign",children:e.jsxs("div",{className:"w-[80%] grid place-items-center  shadow-md p-[2rem] bg-[#FAAE42]",children:[e.jsx("h1",{className:"",children:l===1?e.jsx("p",{className:"text-[1.5rem] text-white",children:m}):e.jsxs("p",{children:[" ",e.jsxs("span",{className:"text-[1rem] text-white",children:["Assigned hours-",p]})," ",e.jsxs("span",{className:"text-[1rem] text-white",children:["Worked hours-",u]})]})}),e.jsx("h1",{className:"text-white text-[1.2rem]",children:l===1?e.jsx("p",{children:"Total Task"}):""})]})}),e.jsx(c,{href:"holi-day",children:e.jsxs("div",{className:"w-[80%] grid place-items-center  shadow-md p-[2rem] bg-[#2DCE89] ",children:[e.jsx("h1",{className:"text-[1.5rem] text-white",children:o}),e.jsxs("h1",{className:"text-white text-[1.2rem]",children:["Holidays"," "]})]})}),e.jsxs("div",{className:"w-[80%] grid place-items-center shadow-lg p-4 bg-[#F5365C] text-white",children:[e.jsx("h1",{className:"text-[1.5rem] text-white",children:x}),e.jsx("h1",{className:"text-white text-[1.2rem]",children:"On Leave"})]})]})})}),e.jsxs("div",{className:"px-8 ",children:[w.includes("edit_task")?e.jsx(C,{assin:b,emp:j}):"",e.jsxs("div",{className:"py-7",children:[e.jsx("h1",{className:"underline py-5 ml-5 text-[1.2rem]",children:"Project Reports"}),e.jsxs("table",{className:"w-[98%] px-8 ml-5 ",children:[e.jsx("thead",{className:"w-full px-8",children:e.jsxs("tr",{className:"border p-2 text-left bg-[#465584] text-white",children:[l===1?e.jsx("th",{className:"p-2 text-left border",children:"Employee Name"}):"",e.jsx("th",{className:"p-2 text-left border",children:"Project Name"}),e.jsx("th",{className:"p-2 text-left border",children:"Start Date"}),e.jsx("th",{className:"p-2 text-left border",children:"End Date"}),e.jsx("th",{className:"p-2 text-left border",children:"Assign hours"}),e.jsx("th",{className:"p-2 text-left border",children:"Time Spent(hours)"})]})}),e.jsx("tbody",{children:i.map((s,k)=>e.jsxs("tr",{children:[l===1?e.jsx("td",{style:{color:s.time_number>8?"green":s.time_number<0?"red":"black",backgroundColor:s.time_number>8?"#e0f7e0":(s.time_number<0,"#f7e0e0")},className:"p-2 text-left border border-blue-400",children:s.name}):"",e.jsx("td",{style:{color:s.time_number>8?"green":s.time_number<0?"red":"black",backgroundColor:s.time_number>8?"#e0f7e0":(s.time_number<0,"#f7e0e0")},className:"p-2 text-left border border-blue-400",children:s.title}),e.jsx("td",{style:{color:s.time_number>8?"green":s.time_number<0?"red":"black",backgroundColor:s.time_number>8?"#e0f7e0":(s.time_number<0,"#f7e0e0")},className:"p-2 text-left border border-blue-400",children:s.task_name}),e.jsx("td",{style:{color:s.time_number>8?"green":s.time_number<0?"red":"black",backgroundColor:s.time_number>8?"#e0f7e0":(s.time_number<0,"#f7e0e0")},className:"p-2 text-left border border-blue-400",children:s.employee_hours}),e.jsx("td",{className:"p-2 text-left border border-blue-400",style:{color:s.time_number>8?"green":s.time_number<0?"red":"black",backgroundColor:s.time_number>8?"#e0f7e0":(s.time_number<0,"#f7e0e0")},children:s.total_time_number})]},k))})]})]})]})]}):e.jsx(a.Fragment,{children:e.jsx("div",{className:"table-section flex px-10 ",children:e.jsx("div",{className:"w-full",children:d&&d.map(s=>e.jsx("div",{className:"w-1/3 p-3",children:e.jsxs(c,{href:route("upld",s.id),className:"p-3 block bg-zinc-700 rounded space-y-1",children:[e.jsx("h1",{className:"font-semibold text-lg text-white",children:s.title}),e.jsxs("p",{className:"text-sm text-white",children:[s.estimate_time+" hrs"," - â‚¹ ",s.estimate_budget]}),e.jsxs("p",{className:"text-sm text-white",children:[new Date(s.start_date).toLocaleDateString()," ","to"," ",new Date(s.end_date).toLocaleDateString()]}),e.jsx("br",{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white",children:"Progress:"}),e.jsxs("span",{className:"font-semibold text-white",children:[s.progress,"%"]})]}),e.jsx("progress",{className:"w-full h-2 [&::-webkit-progress-bar]:rounded-lg [&::-webkit-progress-bar]:bg-white [&::-webkit-progress-value]:bg-green-500 [&::-webkit-progress-value]:rounded-full",value:s.progress,max:"100"})]})}))})})})]})};export{R as default};
