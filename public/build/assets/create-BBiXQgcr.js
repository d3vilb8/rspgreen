import{W as f,j as e,a as y}from"./app-DecQ0f_S.js";import{H as g,N as b,b as N}from"./Nav-BWBa_EZw.js";import{N as _}from"./notyf.min-DLu_xjpT.js";import"./iconBase-DWhxbjqT.js";import"./index-BPKSu1J7.js";import"./index-c1-G4gL8.js";const i=new _,A=({empdataloyee:w,type:m,user:u,user_type:h,notif:p})=>{const{data:n,setData:o,post:x,errors:c}=f({employee_id:"",leave_type_id:"",sdate:"",edate:"",reason:"",remark:"",hours:"",status:0,is_unpaid:!1,documents:[]}),l=a=>{const{name:r,value:s,type:t,checked:d}=a.target;t==="checkbox"?o(r,d):t==="file"?o(r,a.target.files):o(r,s)},j=a=>{a.preventDefault();const r=new FormData;Object.entries(n).forEach(([s,t])=>{s==="documents"&&t.length>0?Array.from(t).forEach(d=>{r.append("documents[]",d)}):r.append(s,t)}),x("/leave-store-data",{onSuccess:()=>{i.success("Leave created successfully")},onError:s=>{typeof s=="object"&&s!==null?Object.entries(s).forEach(([t,d])=>{Array.isArray(d)?d.forEach(v=>i.error(v)):i.error(d)}):i.error("An unexpected error occurred.")},data:r})};return e.jsxs("div",{className:"w-[85.2%] absolute right-0 overflow-hidden",children:[e.jsx(g,{user:u,notif:p}),e.jsx(b,{user_type:h}),e.jsxs("div",{className:"p-3 table-section",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"grid p-2 mt-2 text-white bg-blue-800 rounded-lg place-items-center",children:e.jsx(y,{href:"/leave-index",children:e.jsx(N,{className:"text-[1rem]"})})})})}),e.jsxs("form",{onSubmit:j,className:"px-[8rem] grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"leave_type_id",children:"Leave Type"}),e.jsxs("select",{name:"leave_type_id",id:"leave_type_id",className:"w-full rounded-lg",value:n.leave_type_id,onChange:l,required:!0,children:[e.jsx("option",{value:"",children:"Select leave Type"}),m.map(a=>e.jsxs("option",{value:a.id,children:[a.type_name,"-",a.days,"days"]},a.id))]}),c.leave_type_id&&e.jsx("div",{children:c.leave_type_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sdate",children:"Start Date"}),e.jsx("input",{className:"w-full rounded-lg",id:"sdate",name:"sdate",type:"date",value:n.sdate,onChange:l,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"edate",children:"End Date"}),e.jsx("input",{className:"w-full rounded-lg",id:"edate",name:"edate",type:"date",value:n.edate,onChange:l,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reason",children:"Leave Reason"}),e.jsx("textarea",{className:"w-full rounded-lg",name:"reason",value:n.reason,onChange:l,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"remark",children:"Remarks"}),e.jsx("textarea",{className:"w-full rounded-lg",name:"remark",value:n.remark,onChange:l})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"documents",children:"Upload Documents (Multiple)"}),e.jsx("input",{type:"file",name:"documents",id:"documents",className:"w-full rounded-lg",multiple:!0,onChange:l})]}),e.jsx("div",{children:e.jsxs("select",{name:"is_unpaid",className:"p-2 rounded-md mt-5 w-[100%]",onChange:l,children:[e.jsx("option",{value:"",children:"Select leave tag"}),e.jsx("option",{value:"0",children:"paid"}),e.jsx("option",{value:"1",children:"unpaid"})]})}),e.jsx("button",{type:"submit",className:"bg-blue-600 p-2 rounded-md text-white w-[30%]",children:"Create"})]})]})]})};export{A as default};
