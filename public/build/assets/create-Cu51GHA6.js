import{r as c,W as I,j as e,a as P}from"./app-DecQ0f_S.js";import{H as O,N as q,b as H}from"./Nav-BWBa_EZw.js";import{N as R}from"./notyf.min-DLu_xjpT.js";import{M as h}from"./Modal-BhgbF3q9.js";import{c as u}from"./index-BPKSu1J7.js";import"./iconBase-DWhxbjqT.js";import"./index-c1-G4gL8.js";import"./transition-CWN7uk3v.js";const t=new R,K=({user:v,user_type:N,roles:g,notif:f,branches:y,department:w,designation:C})=>{const[F,p]=c.useState(!1),[D,j]=c.useState(!1),[k,_]=c.useState(!1),{data:n,setData:b,post:o,errors:a}=I({name:"",email:"",password:"",phone:"",address:"",dob:"",gender:"",joinning_date:"",branch_id:"",department_id:"",designation_id:"",company_doj:"",account_holder_name:"",account_number:"",bank_name:"",bank_identifier_code:"",branch_location:"",tax_payer_id:"",roleemployee:"",net_salary:"",basic_salary:"",ifsc_code:"",apc_no:"",ptax_no:"",pf_no:"",esi_no:"",pan_no:"",aadhar_no:"",documents:[{name:"",type:"",file:null}],d_name:"",b_name:"",ds_name:"",cv:"",can_cheque:"",declaration:"",employee:""});c.useState({history:[{company_name:"",department:"",role:""}],additional_information:"",employee_name:"",document_type:"",document_upload:null,basic_salary:"",gross_salary:""});const[S,G]=c.useState({documents:[]}),r=()=>{p(!1),j(!1),_(!1),setSelectedBranchId(null),reset("d_name")},s=l=>{b(l.target.name,l.target.value)},B=l=>{l.preventDefault();const d=S.documents.filter(i=>i.name&&i.type&&i.file),x={...n,documents:d};o("/employees-store",{data:x,onSuccess:()=>{t.success("Employee created successfully")},onError:i=>{t.error("An unexpected error occurred.")}})},E=l=>{l.preventDefault(),o("/departments",{onSuccess:()=>{t.success("Department created successfully"),reset(),r()},onError:d=>{d&&typeof d=="object"?Object.entries(d).forEach(([x,i])=>{}):t.error("An unexpected error occurred.")}})},A=l=>{l.preventDefault(),o("/branches",{onSuccess:()=>{t.success("Branch created successfully!"),fetchBranches(),r()},onError:()=>{t.error("An error occurred while creating the branch.")}})},M=l=>{l.preventDefault(),o("/designations",{onSuccess:()=>{t.success("Branch created successfully!"),fetchBranches(),r()},onError:()=>{t.error("An error occurred while creating the branch.")}})},m=l=>{const{name:d,files:x}=l.target;b(d,x[0])};return e.jsxs("div",{className:"w-[85.2%] ml-[11.5rem] absolute right-0",children:[e.jsx(O,{user:v,notif:f}),e.jsx(q,{user_type:N}),e.jsxs("div",{className:"p-3 table-section",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"grid p-2 mt-2 text-white bg-blue-800 rounded-lg place-items-center",children:e.jsx(P,{href:"employees",children:e.jsx(H,{className:"text-[1rem]"})})})})}),e.jsxs("form",{onSubmit:B,className:"px-[8rem] grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("div",{className:""}),e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Personal Details"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",children:"Name"}),e.jsx("input",{id:"name",className:"w-full rounded-lg",name:"name",type:"text",value:n.name,onChange:s}),a.name&&e.jsx("div",{className:"text-red-500 text-sm",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{id:"email",className:"w-full rounded-lg",name:"email",type:"email",value:n.email,onChange:s}),a.email&&e.jsx("div",{children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{id:"password",className:"w-full rounded-lg",name:"password",type:"password",value:n.password,onChange:s}),a.password&&e.jsx("div",{className:"text-red-500 text-sm",children:a.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",children:"Phone"}),e.jsx("input",{id:"phone",className:"w-full rounded-lg",name:"phone",type:"text",value:n.phone,onChange:s}),a.phone&&e.jsx("div",{className:"text-red-500 text-sm",children:a.phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",children:"Address"}),e.jsx("input",{id:"address",className:"w-full rounded-lg",name:"address",type:"text",value:n.address,onChange:s}),a.address&&e.jsx("div",{className:"text-red-500 text-sm",children:a.address})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dob",children:"Date of Birth"}),e.jsx("input",{id:"dob",className:"w-full rounded-lg",name:"dob",type:"date",value:n.dob,onChange:s}),a.dob&&e.jsx("div",{className:"text-red-500 text-sm",children:a.dob})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gender",children:"Gender"}),e.jsxs("select",{id:"gender",className:"w-full rounded-lg",name:"gender",value:n.gender,onChange:s,children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"})]}),a.gender&&e.jsx("div",{className:"text-red-500 text-sm",children:a.gender})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"joinning_date",children:"Joining Date"}),e.jsx("input",{id:"joinning_date",className:"w-full rounded-lg",name:"joinning_date",type:"date",value:n.joinning_date,onChange:s}),a.joinning_date&&e.jsx("div",{className:"text-red-500 text-sm",children:a.joinning_date})]}),e.jsx("div",{className:"col-span-2 mt-4",children:e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Company Details"})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"branch_id",children:"Branch ID"}),e.jsxs("select",{id:"branch_id",className:"w-full rounded-lg",name:"branch_id",value:n.branch_id,onChange:s,children:[e.jsx("option",{value:"",children:"Select Branch"}),y.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),a.branch_id&&e.jsx("div",{className:"text-red-500 text-sm",children:a.branch_id})]}),e.jsx("div",{className:"grid place-items-center mt-5",children:e.jsx("a",{onClick:()=>j(!0),className:" rounded bg-blue-950 text-white p-2 h-[2rem]",children:e.jsx(u,{})})})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"department_id",children:"Department ID"}),e.jsxs("select",{id:"branch_id",className:"w-full rounded-lg",name:"department_id",value:n.department_id,onChange:s,children:[e.jsx("option",{value:"",children:"Select Department"}),w.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),a.department_id&&e.jsx("div",{className:"text-red-500 text-sm",children:a.department_id})]}),e.jsx("div",{className:"grid place-items-center mt-5",children:e.jsx("a",{onClick:()=>p(!0),className:" rounded bg-blue-950 text-white p-2 h-[2rem]",children:e.jsx(u,{})})})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"designation_id",children:"Designation ID"}),e.jsxs("select",{id:"designation_id",className:"w-full rounded-lg",name:"designation_id",value:n.designation_id,onChange:s,children:[e.jsx("option",{value:"",children:"Select Designation"}),C.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),a.designation_id&&e.jsx("div",{className:"text-red-500 text-sm",children:a.designation_id})]}),e.jsx("div",{className:"grid place-items-center mt-5",children:e.jsx("a",{onClick:()=>_(!0),className:" rounded bg-blue-950 text-white p-2 h-[2rem]",children:e.jsx(u,{})})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"company_doj",children:"Company Date of Joining"}),e.jsx("input",{id:"company_doj",className:"w-full rounded-lg",name:"company_doj",type:"date",value:n.company_doj,onChange:s}),a.company_doj&&e.jsx("div",{className:"text-red-500 text-sm",children:a.company_doj})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"roleemployee",children:"Role"}),e.jsxs("select",{id:"roleemployee",className:"w-full rounded-lg",name:"roleemployee",value:n.roleemployee,onChange:s,children:[e.jsx("option",{value:"",children:"Select Role"}),g.map(l=>e.jsx("option",{value:l.name,children:l.name},l.id))]}),a.roleemployee&&e.jsx("div",{className:"text-red-500 text-sm",children:a.roleemployee})]}),e.jsx("div",{className:"col-span-2 mt-4",children:e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Bank Details"})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"account_holder_name",children:"Account Holder Name"}),e.jsx("input",{id:"account_holder_name",className:"w-full rounded-lg",name:"account_holder_name",type:"text",value:n.account_holder_name,onChange:s}),a.account_holder_name&&e.jsx("div",{className:"text-red-500 text-sm",children:a.account_holder_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"account_number",children:"Account Number"}),e.jsx("input",{id:"account_number",className:"w-full rounded-lg",name:"account_number",type:"text",value:n.account_number,onChange:s}),a.account_number&&e.jsx("div",{className:"text-red-500 text-sm",children:a.account_number})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_name",children:"Bank Name"}),e.jsx("input",{id:"bank_name",className:"w-full rounded-lg",name:"bank_name",type:"text",value:n.bank_name,onChange:s}),a.bank_name&&e.jsx("div",{className:"text-red-500 text-sm",children:a.bank_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_identifier_code",children:"Bank Identifier Code"}),e.jsx("input",{id:"bank_identifier_code",className:"w-full rounded-lg",name:"bank_identifier_code",type:"text",value:n.bank_identifier_code,onChange:s}),a.bank_identifier_code&&e.jsx("div",{className:"text-red-500 text-sm",children:a.bank_identifier_code})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"branch_location",children:"Branch Location"}),e.jsx("input",{id:"branch_location",className:"w-full rounded-lg",name:"branch_location",type:"text",value:n.branch_location,onChange:s}),a.branch_location&&e.jsx("div",{className:"text-red-500 text-sm",children:a.branch_location})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tax_payer_id",children:"Basic salary *"}),e.jsx("input",{id:"tax_payer_id",className:"w-full rounded-lg",name:"basic_salary",type:"text",value:n.basic_salary,onChange:s}),a.basic_salary&&e.jsx("div",{className:"text-red-500 text-sm",children:a.basic_salary})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tax_payer_id",children:"Gross salary *"}),e.jsx("input",{id:"tax_payer_id",className:"w-full rounded-lg",name:"net_salary",type:"text",value:n.net_salary,onChange:s}),a.net_salary&&e.jsx("div",{className:"text-red-500 text-sm",children:a.net_salary})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"apc_no",children:"APC No"}),e.jsx("input",{id:"apc_no",className:"w-full rounded-lg",name:"apc_no",type:"text",value:n.apc_no,onChange:s}),a.apc_no&&e.jsx("div",{className:"text-red-500 text-sm",children:a.apc_no})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_name",children:"IFSC Code"}),e.jsx("input",{id:"ifsc_code",className:"w-full rounded-lg",name:"ifsc_code",type:"text",value:n.ifsc_code,onChange:s}),a.ifsc_code&&e.jsx("div",{className:"text-red-500 text-sm",children:a.ifsc_code})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_name",children:"PTAX NO"}),e.jsx("input",{id:"ptax_no",className:"w-full rounded-lg",name:"ptax_no",type:"text",value:n.ptax_no,onChange:s}),a.ptax_no&&e.jsx("div",{className:"text-red-500 text-sm",children:a.ptax_no})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_name",children:"PF NO"}),e.jsx("input",{id:"pf_no",className:"w-full rounded-lg",name:"pf_no",type:"text",value:n.pf_no,onChange:s}),a.pf_no&&e.jsx("div",{className:"text-red-500 text-sm",children:a.pf_no})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"esi_no",children:"ESI NO"}),e.jsx("input",{id:"esi_no",className:"w-full rounded-lg",name:"esi_no",type:"text",value:n.esi_no,onChange:s}),a.esi_no&&e.jsx("div",{className:"text-red-500 text-sm",children:a.esi_no})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pan_no",children:"Pan NO"}),e.jsx("input",{id:"pan_no",className:"w-full rounded-lg",name:"pan_no",type:"text",value:n.pan_no,onChange:s}),a.pan_no&&e.jsx("div",{className:"text-red-500 text-sm",children:a.pan_no})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"aadhar_no",children:"AAdhaar NO"}),e.jsx("input",{id:"aadhar_no",className:"w-full rounded-lg",name:"aadhar_no",type:"text",value:n.aadhar_no,onChange:s}),a.aadhar_no&&e.jsx("div",{className:"text-red-500 text-sm",children:a.aadhar_no})]}),e.jsx("div",{className:"col-span-2 mt-4",children:e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"History"})}),e.jsxs("div",{className:"col-span-2 mt-6",children:[e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Employee Documents"}),e.jsxs("div",{className:"grid grid-cols-3 gap-5",children:[e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("h1",{children:"CV Upload"}),e.jsx("input",{type:"file",onChange:m,name:"cv",id:"",className:"border p-2"}),e.jsx("img",{src:n.cv,alt:""}),a.cv&&e.jsx("div",{className:"text-red-500 text-sm",children:a.cv})]}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("h1",{children:"Cancle Cheque Upload"}),e.jsx("input",{type:"file",onChange:m,name:"can_cheque",id:"",className:"border p-2"}),a.can_cheque&&e.jsx("div",{className:"text-red-500 text-sm",children:a.can_cheque})]}),e.jsxs("div",{className:"",children:[e.jsx("h1",{children:"Declaration"}),e.jsx("input",{type:"file",onChange:m,name:"declaration",id:"",className:"border p-2"}),a.declaration&&e.jsx("div",{className:"text-red-500 text-sm",children:a.name})]}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("h1",{children:"Employee"}),e.jsx("input",{type:"file",onChange:m,name:"employee",id:"",className:"border p-2"}),a.employee&&e.jsx("div",{className:"text-red-500 text-sm",children:a.employee})]})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 p-2 rounded-md text-white w-[30%] col-span-2",children:"Create"})]})]}),e.jsxs(h,{show:F,onClose:r,children:[e.jsx("h2",{className:"text-lg font-bold p-4",children:"Create Department"}),e.jsxs("form",{onSubmit:E,className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Department Name"}),e.jsx("input",{type:"text",id:"d_name",name:"d_name",value:n.d_name,onChange:s,className:"w-full p-3 border rounded",placeholder:"Enter department name"}),a.d_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.d_name})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Create"})})]})]}),e.jsxs(h,{show:D,onClose:r,children:[e.jsx("h2",{className:"text-lg font-bold p-4",children:"Create Branch"}),e.jsxs("form",{onSubmit:A,className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Branch Name"}),e.jsx("input",{type:"text",id:"b_name",name:"b_name",value:n.b_name,onChange:s,className:"w-full p-3 border rounded",placeholder:"Enter department name"}),a.b_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.b_name})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Create"})})]})]}),e.jsxs(h,{show:k,onClose:r,children:[e.jsx("h2",{className:"text-lg font-bold p-4",children:"Create Branch"}),e.jsxs("form",{onSubmit:M,className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Designation Name"}),e.jsx("input",{type:"text",id:"ds_name",name:"ds_name",value:n.ds_name,onChange:s,className:"w-full p-3 border rounded",placeholder:"Enter department name"}),a.ds_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.ds_name})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Create"})})]})]})]})};export{K as default};
