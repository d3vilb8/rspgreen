import{r as d,j as e}from"./app-DecQ0f_S.js";import{d as m}from"./index-gHrjMQXW.js";import{H as p,N as j}from"./Nav-BWBa_EZw.js";import"./iconBase-DWhxbjqT.js";import"./index-BPKSu1J7.js";import"./index-c1-G4gL8.js";function C({leadStage:a=[]}){const[t,l]=d.useState(!1),[n,o]=d.useState("create"),[i,c]=d.useState(null),r=(s,h=null)=>{o(s),c(h),l(!0)},x=()=>{l(!1),c(null)},u=s=>{confirm("Are you sure you want to delete this stage?")&&m.Inertia.delete(`/project-all-stages/${s}`)};return e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx(j,{}),e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:"w-1/4 bg-gray-800 text-white p-4",children:e.jsxs("ul",{className:"space-y-4",children:[e.jsx("li",{className:"font-semibold border-b border-gray-500 pb-2",children:"Branch"}),e.jsx("li",{children:"Department"}),e.jsx("li",{children:"Designation"}),e.jsx("li",{children:"Leave Type"})]})}),e.jsxs("div",{className:"w-3/4 p-6 bg-gray-100",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Total Stages"}),e.jsx("button",{onClick:()=>r("create"),className:"text-green-600 font-medium hover:underline mb-4 block",children:"Create Stage"}),e.jsxs("table",{className:"w-full bg-white rounded shadow",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200 text-left",children:[e.jsx("th",{className:"px-4 py-2",children:"Stage Name"}),e.jsx("th",{className:"px-4 py-2",children:"Stage Amount Percentage"})," ",e.jsx("th",{className:"px-4 py-2",children:"Action"})]})}),e.jsx("tbody",{children:a.map(s=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"px-4 py-2",children:s.name}),e.jsx("td",{className:"px-4 py-2",children:s.ammount})," ",e.jsxs("td",{className:"px-4 py-2",children:[e.jsx("button",{onClick:()=>r("edit",s),className:"text-blue-500 hover:underline mr-4",children:"Edit"}),e.jsx("button",{onClick:()=>u(s.id),className:"text-red-500 hover:underline",children:"Delete"})]})]},s.id))})]})]}),t&&e.jsx(b,{type:n,stage:i,onClose:x})]})]})}function b({type:a,stage:t,onClose:l}){const[n,o]=d.useState({name:(t==null?void 0:t.name)||"",ammount:(t==null?void 0:t.ammount)||""}),i=r=>{o({...n,[r.target.name]:r.target.value})},c=r=>{r.preventDefault(),a==="create"?m.Inertia.post("/project-all-stages",n):a==="edit"&&m.Inertia.put(`/project-all-stages/${t.id}`,n),l()};return e.jsx(f,{title:a==="create"?"Create Stage":"Edit Stage",onClose:l,children:e.jsxs("form",{onSubmit:c,children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Stage Name"}),e.jsx("input",{type:"text",name:"name",className:"w-full border px-4 py-2 rounded focus:outline-none",value:n.name,onChange:i}),e.jsx("label",{className:"block mt-4 mb-2 text-sm font-medium",children:"Stage Amount"}),e.jsx("input",{type:"number",name:"ammount",className:"w-full border px-4 py-2 rounded focus:outline-none",value:n.ammount,onChange:i}),e.jsx("button",{type:"submit",className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded",children:a==="create"?"Submit":"Update"})]})})}function f({title:a,children:t,onClose:l}){return e.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"bg-white w-full max-w-md p-6 rounded shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:a}),e.jsx("button",{onClick:l,className:"text-gray-600",children:"X"})]}),t]})})}export{C as default};
