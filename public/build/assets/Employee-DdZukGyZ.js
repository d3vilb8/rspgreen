import{r as l,j as e,a as d,b as E}from"./app-OWEBvdtC.js";import{H as v,N as L,a as S}from"./Nav-CmIRCLvo.js";import{C as A}from"./index-Bt0IZRbn.js";import{R as F}from"./index-R_jZdsaO.js";import{N as P}from"./notyf.min-DLu_xjpT.js";import"./iconBase-hI8KM4xB.js";import"./index-CGRCqaVb.js";import"./index-BSTxKt_a.js";const $=new P,M=({user:p,employee:o,user_type:u,notif:j})=>{const[a,f]=l.useState(""),[n,y]=l.useState(o),[i,m]=l.useState(1),[c]=l.useState(10);l.useEffect(()=>{const s=o.filter(t=>t.name.toLowerCase().includes(a.toLowerCase())||t.email.toLowerCase().includes(a.toLowerCase())||t.roles.some(r=>r.name.toLowerCase().includes(a.toLowerCase()))||t.employees.some(r=>r.phone.toLowerCase().includes(a.toLowerCase())));y(s)},[a,o]);const N=s=>{f(s.target.value),m(1)},b=(s,t)=>{s.preventDefault(),confirm("Are you sure you want to delete this employee?")&&E.get(`/employees-destroy/${t}`).then(r=>{console.log(r),$.success("Employee deleted successfully")}).catch(r=>{console.log(r)})},x=i*c,w=x-c,h=n.slice(w,x),g=Math.ceil(n.length/c),C=Array.from({length:g},(s,t)=>t+1);return e.jsxs("div",{className:"w-[85.2%] absolute right-0 overflow-hidden",children:[e.jsx(v,{user:p,notif:j}),e.jsx(L,{user_type:u}),e.jsxs("div",{className:"px-8 py-4 table-section rounded-b-md",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"w-[40%]",children:e.jsx("input",{type:"text",value:a,onChange:N,placeholder:"Search employees...",className:"p-2 border rounded-md w-[80%]"})}),e.jsx("div",{className:"px-3",children:e.jsx(d,{href:"employees-create",className:"underline",children:"Create New Employee"})})]}),e.jsx("br",{}),e.jsxs("table",{className:"table w-full p-4 border",children:[e.jsx("thead",{className:"border bg-[#0A1B3F] text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left border",children:"Name"}),e.jsx("th",{className:"p-3 text-left border",children:"Email"}),e.jsx("th",{className:"p-3 text-left border",children:"Action"})]})}),e.jsx("tbody",{children:h.length>0?h.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-3 border",children:s.name}),e.jsx("td",{className:"p-3 border",children:s.email}),e.jsx("td",{className:"border",children:e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx(d,{className:"text-white text-[1.1rem] bg-[#0C7785] p-1 rounded-md",href:`employees/show/${s.id}`,children:e.jsx(S,{})}),e.jsx(d,{className:"text-white text-[1.1rem] bg-[#0C7785] p-1 rounded-md",href:`employees-edit/${s.id}`,children:e.jsx(A,{})}),e.jsx("button",{className:"text-white text-[1.1rem] bg-[#FF3A6E] p-1 rounded-md",onClick:t=>b(t,s.id),children:e.jsx(F,{})})]})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-3 text-center",children:"No employees found"})})})]}),e.jsx("div",{className:"flex justify-center mt-4",children:C.map(s=>e.jsx("button",{onClick:()=>m(s),className:`px-4 py-2 mx-1 rounded ${i===s?"bg-blue-500 text-white":"bg-gray-200"}`,children:s},s))})]})]})};export{M as default};
