import{r as t,j as e}from"./app-OWEBvdtC.js";import{M as N}from"./Modal-Di6ygOb6.js";import{H as b,N as w}from"./Nav-CmIRCLvo.js";import{u as v}from"./index-BSDyYLbN.js";import{k as n,l as g,b as S}from"./index-CGRCqaVb.js";import{F as P}from"./index-BSTxKt_a.js";import{N as F}from"./notyf.min-DLu_xjpT.js";import"./transition-CLzje324.js";import"./iconBase-hI8KM4xB.js";import"./index-DA7AibOW.js";const d=new F;function W({user:c,usrrr:x,notif:m,user_type:o,employees:l}){t.useState(!1);const[p,a]=t.useState(!1),[h,j]=t.useState(),{post:u,put:k,data:r,setData:y,processing:C,errors:E}=v({amount:0});function f(s){s.preventDefault(),u(`/payroll/store/${h}`,{onSuccess(){d.success("Payment Successfull")},onError(){d.error("Payment Failed")},preserveScroll:!0})}return e.jsxs("div",{className:"w-[85.2%] ml-[11.5rem]",children:[e.jsx(b,{user:c,notif:m}),e.jsx(w,{user_type:o,usrrr:x}),e.jsxs("div",{className:"w-full px-9",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-xl",children:"Payroll"}),e.jsx("button",{type:"button",className:"text-sm px-4 py-2 rounded text-white bg-blue-500",children:"Bulk Send Payslip1"})]}),e.jsxs("div",{className:"py-4",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 bg-slate-600 text-white text-left pl-4 rounded-l",children:"#"}),e.jsx("th",{className:"py-2 bg-slate-600 text-white text-left pl-2",children:"Employee Name"}),e.jsx("th",{className:"py-2 bg-slate-600 text-white text-left pl-2",children:"Salary"}),e.jsx("th",{className:"py-2 bg-slate-600 text-white text-left pl-2",children:"Payslip Type"}),e.jsx("th",{className:"py-2 bg-slate-600 text-white text-left pl-2",children:"Status"}),e.jsx("th",{className:"py-2 bg-slate-600 text-white text-left pl-2 rounded-r",children:"Action"})]})}),e.jsx("tbody",{children:l&&l.map((s,i)=>e.jsx(t.Fragment,{children:e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 pl-4 text-sm",children:i+1}),e.jsx("td",{className:"py-2 pl-2 text-sm",children:s.name}),e.jsxs("td",{className:"py-2 pl-2 text-sm",children:["₹ ",s.salary||0,"/-"]}),e.jsx("td",{className:"py-2 pl-2 text-sm",children:"Per Month"}),e.jsx("td",{className:"py-2 pl-2 text-sm",children:e.jsx("div",{className:"flex",children:s.status.toLowerCase()==="pending"?e.jsx("p",{className:"text-sm text-red-500 font-semibold border border-red-500 px-5 py-1 rounded",children:"Unpaid"}):e.jsx("p",{className:"text-sm text-green-500 font-semibold border border-green-500 px-5 py-1 rounded",children:"Paid"})})}),e.jsx("td",{className:"py-2 pl-2 text-sm",children:e.jsx("div",{className:"space-x-2",children:s.status.toLowerCase()==="pending"?e.jsx("button",{onClick:M=>{a(!0),j(s.id),y({amount:s.salary})},className:"px-2 py-2 bg-blue-500 rounded text-white",children:e.jsx(n,{})}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"px-2 py-2 bg-green-500 rounded text-white",children:e.jsx(g,{})}),e.jsx("button",{type:"button",className:"px-2 py-2 bg-indigo-500 rounded text-white",children:e.jsx(S,{})})]})})})]})},i))})]}),e.jsx(N,{show:p,maxWidth:"lg",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Make Payment"}),e.jsx("button",{onClick:s=>a(!1),children:e.jsx(P,{})})]}),e.jsx("hr",{}),e.jsx("div",{className:"py-4",children:e.jsxs("form",{onSubmit:f,className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col text-sm gap-y-2",children:[e.jsx("label",{htmlFor:"",children:"Basic Salary"}),e.jsxs("div",{className:"w-full relative flex items-center",children:[e.jsx("input",{type:"text",readOnly:!0,value:r.amount||0,className:"form-input pl-8 rounded text-sm w-full"}),e.jsx(n,{className:"absolute left-3"})]})]}),e.jsxs("div",{className:"space-y-3 py-2 px-4",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("p",{children:"Allowances"}),e.jsx("p",{children:"₹ 0"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("p",{children:"Commission"}),e.jsx("p",{children:"₹ 0"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("p",{children:"Saturation Deduction"}),e.jsx("p",{children:"₹ 0"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("p",{children:"Other Payment"}),e.jsx("p",{children:"₹ 0"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("p",{children:"Overtime"}),e.jsx("p",{children:"₹ 0"})]}),e.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[e.jsx("p",{children:"Net Salary"}),e.jsxs("p",{children:["₹ ",r.amount||0]})]})]}),e.jsx("div",{className:"flex justify-center text-sm gap-y-2",children:e.jsx("button",{type:"submit",className:"py-2 px-5 rounded bg-green-500 text-white",children:"Make Payment"})})]})})]})})]})]})]})}export{W as default};
