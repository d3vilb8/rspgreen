import{r as n,W as _,j as e}from"./app-OWEBvdtC.js";import{a as M,f as F}from"./index-CGRCqaVb.js";import{R as D}from"./index-R_jZdsaO.js";import{H as O,N as T,c as R}from"./Nav-CmIRCLvo.js";import{N as A}from"./notyf.min-DLu_xjpT.js";import"./iconBase-hI8KM4xB.js";import"./index-BSTxKt_a.js";const t=new A,P=({status:p,user:j,user_type:f,notif:b})=>{const[a,d]=n.useState(!1),[o,c]=n.useState(!1),[i,u]=n.useState(null),{data:r,setData:m,post:N,put:g,delete:k,errors:x,reset:h}=_({status_name:""}),w=()=>{h(),d(!0)},y=s=>{m({status_name:s.status_name}),u(s),c(!0)},v=s=>{m(s.target.name,s.target.value)},S=s=>{s.preventDefault(),a?N("/task-status/store",{data:r,onSuccess:()=>{t.success("Task status created successfully!"),l()},onError:()=>{t.error("Failed to create task status.")}}):o&&i&&g(`/task-status/update/${i.id}`,{data:r,onSuccess:()=>{t.success("Task status updated successfully!"),l()},onError:()=>{t.error("Failed to update task status.")}})},l=()=>{d(!1),c(!1),u(null),h()},C=s=>{confirm("Are you sure you want to delete this task status?")&&k(`/task-status/delete/${s}`,{onSuccess:()=>{t.success("Task status deleted successfully!")},onError:()=>{t.error("Failed to delete task status.")}})};return e.jsxs("div",{className:"w-[85.2%]  absolute right-0 overflow-hidden",children:[e.jsx(O,{user:j,notif:b}),e.jsx(T,{user_type:f}),e.jsxs("div",{className:"p-3 table-section px-[15rem] ",children:[e.jsx("div",{className:"flex items-center justify-end p-4",children:e.jsx("button",{onClick:w,className:"p-2 text-white bg-blue-600 rounded-md",children:e.jsx(M,{})})}),e.jsxs("table",{className:"table w-full",children:[e.jsx("thead",{className:"bg-[#065E91] text-white",children:e.jsxs("tr",{className:"p-3",children:[e.jsx("th",{className:"p-3 text-left border",children:"Status Name"}),e.jsx("th",{className:"p-3 text-right border",children:"Action"})]})}),e.jsx("tbody",{children:p.map((s,E)=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-3 border",children:s.status_name}),e.jsxs("td",{className:"p-3 text-right border",children:[e.jsx("button",{onClick:()=>y(s),children:e.jsx(F,{})}),e.jsx("button",{onClick:()=>C(s.id),children:e.jsx(D,{})})]})]},E))})]}),(a||o)&&e.jsx("div",{className:"fixed top-0 left-0 z-50 flex items-center justify-center w-full h-screen bg-gray-900 bg-opacity-20",children:e.jsxs("div",{className:"p-10 w-full max-w-[500px] relative bg-white rounded-md shadow-md",children:[e.jsx("div",{className:"absolute right-[10px] top-[13px] text-[1.5rem]",children:e.jsx("button",{onClick:l,className:"text-black",children:e.jsx(R,{})})}),e.jsxs("form",{onSubmit:S,className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status_name",children:"Status Name"}),e.jsx("input",{id:"status_name",className:"w-full rounded-lg",name:"status_name",type:"text",value:r.status_name,onChange:v,required:!0}),x.status_name&&e.jsx("div",{children:x.status_name})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 p-2 rounded-md text-white w-[35%]",children:a?"Create":"Update"})]})]})})]})]})};export{P as default};
