import{r as s,j as e}from"./app-DecQ0f_S.js";import{H as _,N as w}from"./Nav-BWBa_EZw.js";import A from"./SalarySlip-BixLKslJ.js";import"./iconBase-DWhxbjqT.js";import"./index-BPKSu1J7.js";import"./index-c1-G4gL8.js";const G=({user:y,notif:S,user_type:N,employees:d,salary:r,deductionsss:i})=>{const[n,b]=s.useState("All Employees"),[c,g]=s.useState("2025-01"),[f,m]=s.useState([]),[h,p]=s.useState(null),u=d.reduce((t,a)=>(t[a.id]=a.name,t),{});s.useEffect(()=>{(()=>{const a=r==null?void 0:r.map(l=>{const o=new Date(l.generate_date),x=new Date(o.getFullYear(),o.getMonth()+1,0).getDate(),j=parseFloat(l.total_amount),E=j/x,D=j/(x*8);return{...l,perDaySalary:E.toFixed(2),hourlySalary:D.toFixed(2)}});m(a)})()},[r]);const v=()=>{const t=r.filter(a=>{const l=n==="All Employees"||u[a.employee_id]===n,o=!c||a.generate_date.startsWith(c);return l&&o});m(t)};return e.jsxs("div",{className:"flex flex-col w-full ml-[11.5rem]",children:[e.jsx(_,{user:y,notif:S}),e.jsx(w,{user_type:N}),e.jsx("div",{className:"px-[5rem] py-4 w-full",children:h?e.jsx(A,{data:h,onClose:()=>p(null),deductionsss:i}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("select",{className:"border p-2 rounded",value:n,onChange:t=>b(t.target.value),children:[e.jsx("option",{value:"All Employees",children:"All Employees"}),d.map(t=>e.jsx("option",{value:t.name,children:t.name},t.id))]}),e.jsx("input",{type:"month",className:"border p-2 rounded",value:c,onChange:t=>g(t.target.value)}),e.jsx("button",{className:"bg-blue-600 text-white p-2 rounded",onClick:v,children:"Search"})]}),e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border p-2",children:"Salary Name"}),e.jsx("th",{className:"border p-2",children:"Generate Date"}),e.jsx("th",{className:"border p-2",children:"Status"}),e.jsx("th",{className:"border p-2",children:"Total Amount"}),e.jsx("th",{className:"border p-2",children:"Per Day Salary"}),e.jsx("th",{className:"border p-2",children:"Hourly Salary"})]})}),e.jsx("tbody",{children:f.map(t=>e.jsxs("tr",{onClick:()=>p({...t,employeeName:u[t.employee_id],deductions:i}),children:[e.jsx("td",{className:"border p-2",children:t.salary_name}),e.jsx("td",{className:"border p-2",children:t.generate_date}),e.jsx("td",{className:"border p-2",children:t.status}),e.jsx("td",{className:"border p-2",children:t.total_amount}),e.jsx("td",{className:"border p-2",children:t.perDaySalary}),e.jsx("td",{className:"border p-2",children:t.hourlySalary})]},t.id))})]})]})})]})};export{G as default};
