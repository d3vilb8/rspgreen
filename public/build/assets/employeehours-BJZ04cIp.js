import{r as t,b as S,j as r}from"./app-DecQ0f_S.js";import{H as D,N as T}from"./Nav-BWBa_EZw.js";import"./index-gHrjMQXW.js";import{N as C}from"./notyf.min-DLu_xjpT.js";import"./html2canvas.esm-DHXsghNd.js";import"./iconBase-DWhxbjqT.js";import"./index-BPKSu1J7.js";import"./index-c1-G4gL8.js";new C;const z=({user:m,user_type:b,project:i,employee:u,usrrr:n,notif:f,tasks:E})=>{const x=t.useRef(null),p=(()=>{const e=new Date;return e.setDate(1),e.toISOString().split("T")[0]})(),j=new Date().toISOString().split("T")[0],[a,g]=t.useState(p),[l,N]=t.useState(j),[_,h]=t.useState([]),[o,y]=t.useState(""),[s,k]=t.useState(""),[c,O]=t.useState("");t.useEffect(()=>{a&&l&&d()},[a,l,o,s,c]);const d=()=>{S.get("/reports",{params:{startDate:a,endDate:l,projectTitle:o||void 0,employeeName:s||void 0,taskName:c||void 0}}).then(e=>{h(e.data)}).catch(e=>console.error("Error fetching timesheets:",e))};return t.useEffect(()=>{a&&l&&o&&d()},[o]),t.useEffect(()=>{a&&l&&o&&s&&d()},[s]),t.useEffect(()=>{a&&l&&o&&s&&c&&d()},[c]),r.jsxs("div",{className:"w-[83%] absolute right-0 ",children:[r.jsx(D,{user:m,notif:f}),r.jsx(T,{user_type:b,usrrr:n}),r.jsxs("div",{className:"flex py-5 space-x-2",children:[r.jsx("input",{type:"date",value:a,onChange:e=>g(e.target.value)}),r.jsx("input",{type:"date",value:l,onChange:e=>N(e.target.value)}),n===1&&r.jsxs(r.Fragment,{children:[r.jsxs("select",{value:o,onChange:e=>y(e.target.value),children:[r.jsx("option",{value:"",children:"Select project"}),i.map(e=>r.jsx("option",{value:e.title,children:e.title},e.title))]}),r.jsxs("select",{value:s,onChange:e=>k(e.target.value),children:[r.jsx("option",{value:"",children:"Select Employee"}),u.map(e=>r.jsx("option",{value:e.name,children:e.name},e.name))]})]})]}),r.jsxs("table",{ref:x,className:"w-[100%] absolute right-8 overflow-hidden px-5",children:[r.jsx("thead",{className:"w-full px-8",children:r.jsxs("tr",{className:"border p-2 text-left bg-[#465584] text-white",children:[n===1&&r.jsx("th",{className:"p-2 text-left border",children:"Employee Name"}),r.jsx("th",{className:"p-2 text-left border",children:"Project Title"}),r.jsx("th",{className:"p-2 text-left border",children:"Task Name"}),r.jsx("th",{className:"p-2 text-left border",children:"Date"}),r.jsx("th",{className:"p-2 text-left border",children:"Assign Hours"}),r.jsx("th",{className:"p-2 text-left border",children:"Time Spent(hours)"}),r.jsx("th",{className:"p-2 text-left border",children:"Description"})]})}),r.jsx("tbody",{children:_.map((e,v)=>r.jsxs("tr",{children:[n===1&&r.jsx("td",{style:{color:e.time_number>8?"green":e.time_number<0?"red":"black",backgroundColor:e.time_number>8?"#e0f7e0":(e.time_number<0,"#f7e0e0")},className:"p-2 text-left border border-blue-400",children:e.name}),r.jsx("td",{style:{color:e.time_number>8?"green":e.time_number<0?"red":"black",backgroundColor:e.time_number>8?"#e0f7e0":(e.time_number<0,"#f7e0e0")},className:"p-2 text-left border border-blue-400",children:e.title}),r.jsx("td",{style:{color:e.time_number>8?"green":e.time_number<0?"red":"black",backgroundColor:e.time_number>8?"#e0f7e0":(e.time_number<0,"#f7e0e0")},className:"p-2 text-left border border-blue-400",children:e.task_name}),r.jsx("td",{style:{color:e.time_number>8?"green":e.time_number<0?"red":"black",backgroundColor:e.time_number>8?"#e0f7e0":(e.time_number<0,"#f7e0e0")},className:"p-2 text-left border border-blue-400",children:e.date}),r.jsx("td",{style:{color:e.time_number>8?"green":e.employee_hours<0?"red":"black",backgroundColor:e.time_number>8?"#e0f7e0":(e.employee_hours<0,"#f7e0e0")},className:"p-2 text-left border border-blue-400",children:e.employee_hours}),r.jsx("td",{style:{color:e.time_number>8?"green":e.time_number<0?"red":"black",backgroundColor:e.time_number>8?"#e0f7e0":(e.time_number<0,"#f7e0e0")},className:"p-2 text-left border border-blue-400",children:e.time_number}),r.jsx("td",{style:{color:e.time_number>8?"green":e.time_number<0?"red":"black",backgroundColor:e.time_number>8?"#e0f7e0":(e.time_number<0,"#f7e0e0")},className:"p-2 text-left border border-blue-400",children:e.description})]},v))})]})]})};export{z as default};
