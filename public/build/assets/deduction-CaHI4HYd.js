import{r as o,j as e}from"./app-DecQ0f_S.js";import{d as m}from"./index-gHrjMQXW.js";import{H as p,N as b}from"./Nav-BWBa_EZw.js";import"./iconBase-DWhxbjqT.js";import"./index-BPKSu1J7.js";import"./index-c1-G4gL8.js";function D({deductions:l}){const[t,r]=o.useState(!1),[a,d]=o.useState("create"),[i,c]=o.useState(null),n=(s,h=null)=>{d(s),c(h),r(!0)},x=()=>{r(!1),c(null)},u=s=>{confirm("Are you sure you want to delete this deduction?")&&m.Inertia.delete(`/deductions/${s}`)};return e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx(b,{}),e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:"w-1/4 bg-gray-800 text-white p-4",children:e.jsxs("ul",{className:"space-y-4",children:[e.jsx("li",{className:"font-semibold border-b border-gray-500 pb-2",children:"Branch"}),e.jsx("li",{children:"Department"}),e.jsx("li",{children:"Designation"}),e.jsx("li",{children:"Leave Type"})]})}),e.jsxs("div",{className:"w-3/4 p-6 bg-gray-100",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Salary Deductions"}),e.jsx("button",{onClick:()=>n("create"),className:"text-green-600 font-medium hover:underline mb-4 block",children:"Create Deduction"}),e.jsxs("table",{className:"w-full bg-white rounded shadow",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200 text-left",children:[e.jsx("th",{className:"px-4 py-2",children:"Deduction Title"}),e.jsx("th",{className:"px-4 py-2",children:"Amount"}),e.jsx("th",{className:"px-4 py-2",children:"Actions"})]})}),e.jsx("tbody",{children:l&&l.length>0?l.map(s=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"px-4 py-2",children:s.title}),e.jsx("td",{className:"px-4 py-2",children:s.amount}),e.jsxs("td",{className:"px-4 py-2",children:[e.jsx("button",{onClick:()=>n("edit",s),className:"text-blue-500 hover:underline mr-4",children:"Edit"}),e.jsx("button",{onClick:()=>u(s.id),className:"text-red-500 hover:underline",children:"Delete"})]})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"text-center py-4 text-gray-500",children:"No deductions found."})})})]})]}),t&&e.jsx(j,{type:a,deduction:i,onClose:x})]})]})}function j({type:l,deduction:t,onClose:r}){const[a,d]=o.useState({title:(t==null?void 0:t.title)||"",amount:(t==null?void 0:t.amount)||""}),i=n=>{d({...a,[n.target.name]:n.target.value})},c=n=>{n.preventDefault(),l==="create"?m.Inertia.post("/deductions",a):l==="edit"&&m.Inertia.put(`/deductions/${t.id}`,a),r()};return e.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"bg-white w-full max-w-md p-6 rounded shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:l==="create"?"Create Deduction":"Edit Deduction"}),e.jsx("button",{onClick:r,className:"text-gray-600",children:"X"})]}),e.jsxs("form",{onSubmit:c,children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Title"}),e.jsx("input",{type:"text",name:"title",className:"w-full border px-4 py-2 rounded focus:outline-none",value:a.title,onChange:i,required:!0}),e.jsx("label",{className:"block mb-2 text-sm font-medium mt-4",children:"Amount"}),e.jsx("input",{type:"number",name:"amount",className:"w-full border px-4 py-2 rounded focus:outline-none",value:a.amount,onChange:i,required:!0}),e.jsx("button",{type:"submit",className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded",children:l==="create"?"Submit":"Update"})]})]})})}export{D as default};
