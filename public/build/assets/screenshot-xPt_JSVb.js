import{r as s,j as e,a as v}from"./app-OWEBvdtC.js";import{H as D,N as E}from"./Nav-CmIRCLvo.js";import{C as S}from"./choices.min-qgg1WXJ1.js";import{b as C}from"./index-CGRCqaVb.js";import{d as i}from"./index-DA7AibOW.js";import"./iconBase-hI8KM4xB.js";import"./index-BSTxKt_a.js";function B({user:x,user_type:m,notif:p,emp:r,imgs:h,empi:u,sd:j,ed:f}){const n=s.useRef(null),a=Object.entries(h),[o,y]=s.useState(u),[d,b]=s.useState(j),[c,N]=s.useState(f);console.log(a),s.useEffect(()=>{const t=new S(n.current,{removeItemButton:!0,searchEnabled:!0});return()=>{t.destroy()}},[]);const g=t=>{i.Inertia.post("/bulk/download",{images:t},{onSuccess:()=>{console.log("download")},onError:l=>{console.error("Error during file generation:",l)}})},w=t=>{t.preventDefault(),i.Inertia.get("/screenshot/employee",{employee_id:o,start_date:d,end_date:c})};return e.jsxs("div",{className:"w-[83%] h-full absolute right-0 overflow-hidden",children:[e.jsx(D,{user:x,notif:p}),e.jsx(E,{user_type:m}),e.jsxs("form",{onSubmit:w,className:"w-full flex",children:[e.jsxs("div",{className:"w-1/4 p-2 flex flex-col space-y-1",children:[e.jsx("label",{htmlFor:"employee",className:"text-sm font-semibold",children:"Employee"}),e.jsxs("select",{ref:n,id:"employee",value:o,onChange:t=>y(t.target.value),className:"rounded text-sm",children:[e.jsx("option",{value:"",children:"All"}),r&&r.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{className:"w-1/4 p-2 flex flex-col space-y-1",children:[e.jsx("label",{htmlFor:"start_date",className:"text-sm font-semibold",children:"Start Date"}),e.jsx("input",{type:"date",id:"start_date",value:d,onChange:t=>b(t.target.value),className:"rounded text-sm"})]}),e.jsxs("div",{className:"w-1/4 p-2 flex flex-col space-y-1",children:[e.jsx("label",{htmlFor:"end_date",className:"text-sm font-semibold",children:"End Date"}),e.jsx("input",{type:"date",id:"end_date",value:c,onChange:t=>N(t.target.value),className:"rounded text-sm"})]}),e.jsxs("div",{className:"w-1/4 p-2 pb-5 flex items-end gap-2 justify-start",children:[e.jsx(v,{className:"rounded bg-red-500 text-white px-4 py-2 text-sm",href:"/screenshot/employee",children:"Reset"}),e.jsx("button",{type:"submit",className:"rounded bg-blue-500 text-white px-4 py-2 text-sm",children:"Filter"})]})]}),e.jsx("div",{className:"px-2",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 bg-zinc-700 text-white rounded-l",children:"#"}),e.jsx("th",{className:"py-2 px-4 bg-zinc-700 text-white",children:"Timestamp"}),e.jsx("th",{className:"py-2 px-4 bg-zinc-700 text-white rounded-r",children:"Action"})]})}),e.jsx("tbody",{children:Array.isArray(a)&&a.map((t,l)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:l+1}),e.jsx("td",{className:"px-4 py-2 text-sm",children:new Date(t[0]).toDateString()}),e.jsx("td",{className:"px-4 py-2 text-sm",children:e.jsx("div",{children:e.jsxs("button",{onClick:_=>g(t[1]),className:"flex items-center gap-1 bg-blue-500 text-white px-5 py-1 rounded-full",children:[e.jsx(C,{}),e.jsx("span",{children:"Download"})]})})})]}))})]})})]})}export{B as default};
