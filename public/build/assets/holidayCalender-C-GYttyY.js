import{r as i,j as e,b as v}from"./app-DecQ0f_S.js";import{F as N,i as w}from"./index-DP6d1FJX.js";import{H as y,N as b}from"./Nav-BWBa_EZw.js";import"./iconBase-DWhxbjqT.js";import"./index-BPKSu1J7.js";import"./index-c1-G4gL8.js";function F({notif:l,usrrr:c,user_type:d,user:m,location:p,holidays:r,locations:x,vacations:g}){const[f,o]=i.useState([]),[a,u]=i.useState(p||""),[j,S]=i.useState(x||[]);return console.log("Selected Location:",g),i.useEffect(()=>{a&&(async()=>{try{const h=(await v.get("/holidays-calender",{params:{location:a}})).data.holidays.map(n=>({title:n.name,start:n.start_date,end:new Date(new Date(n.end_date).setDate(new Date(n.end_date).getDate()+1)).toISOString().split("T")[0],description:n.description||"No description available"}));o(h)}catch(t){console.error("Error fetching holidays:",t)}})()},[a]),i.useEffect(()=>{if(r&&r.length>0){const s=r.filter(t=>t.location===a||!a).map(t=>({title:t.name,start:t.start_date,end:new Date(new Date(t.end_date).setDate(new Date(t.end_date).getDate()+1)).toISOString().split("T")[0],description:t.description||"No description available"}));o(s)}},[r,a]),e.jsxs("div",{className:"w-[85.2%] ml-[11.5rem]",children:[e.jsx(y,{user:m,notif:l}),e.jsx(b,{user_type:d,usrrr:c}),e.jsxs("div",{className:"w-full px-9 py-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",style:{marginLeft:"20px"},children:"Holiday Calendar"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("label",{htmlFor:"location-select",className:"mr-2 text-gray-700",children:"Select Location:"}),e.jsxs("select",{id:"location-select",value:a,onChange:s=>u(s.target.value),className:"border px-3 py-2 rounded-lg text-gray-700 focus:ring focus:ring-blue-300",children:[e.jsx("option",{value:"",children:"--Select Location--"}),j.map((s,t)=>e.jsx("option",{value:s,children:s},t))]})]})]}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsx(N,{plugins:[w],initialView:"dayGridMonth",events:f,eventContent:s=>e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:s.event.title}),s.event.extendedProps.description&&e.jsx("p",{className:"text-gray-500",children:s.event.extendedProps.description})]})})})]})]})}export{F as default};
