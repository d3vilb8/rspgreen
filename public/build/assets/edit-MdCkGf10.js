import{j as e,a as g}from"./app-DecQ0f_S.js";import{H as y,N,b}from"./Nav-BWBa_EZw.js";import{u as _}from"./index-DAUA1xsM.js";import{N as w}from"./notyf.min-DLu_xjpT.js";import"./iconBase-DWhxbjqT.js";import"./index-BPKSu1J7.js";import"./index-c1-G4gL8.js";import"./index-gHrjMQXW.js";const l=new w,U=({empdataloyee:C,type:c,leave:r,user:p,user_type:h})=>{const{data:a,setData:o,post:x,errors:u,notif:j}=_({employee_id:r.employee_id,leave_type_id:r.leave_type_id,sdate:r.sdate,edate:r.edate,reason:r.reason,remark:r.remark,hours:"",status:r.status,is_unpaid:r.is_unpaid,documents:[]}),d=s=>{s.target.name==="documents"?o("documents",s.target.files):o(s.target.name,s.target.value)},f=s=>{s.preventDefault();const n=new FormData;for(let t in a)t==="documents"&&a[t].length>0?Array.from(a[t]).forEach(m=>{n.append("documents[]",m)}):n.append(t,a[t]);x(`/leave-store-update/${r.id}`,{data:n,onSuccess:()=>{l.success("Employee leave updated successfully")},onError:t=>{typeof t=="object"&&t!==null?Object.entries(t).forEach(([m,i])=>{Array.isArray(i)?i.forEach(v=>l.error(v)):l.error(i)}):l.error("An unexpected error occurred.")}})};return e.jsxs("div",{className:"w-[85.2%] ml-[11.5rem]",children:[e.jsx(y,{user:p,notif:j}),e.jsx(N,{user_type:h}),e.jsxs("div",{className:"p-3 table-section",children:[e.jsx("div",{className:"flex justify-end ",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"grid p-2 mt-2 text-white bg-blue-800 rounded-lg place-items-center",children:e.jsx(g,{href:"/leave-index",children:e.jsx(b,{className:"text-[1rem]"})})})})}),e.jsxs("form",{onSubmit:f,className:"px-[8rem] grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",children:"Leave Type"}),e.jsxs("select",{name:"leave_type_id",className:"w-full rounded-lg",value:a.leave_type_id,onChange:d,required:!0,children:[e.jsx("option",{value:"",children:"Select leave Type"}),c.map(s=>e.jsx("option",{value:s.id,children:s.type_name},s.id))]}),u.leave_type_id&&e.jsx("div",{children:u.leave_type_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",children:"Start Date"}),e.jsx("input",{className:"w-full rounded-lg",name:"sdate",type:"date",value:a.sdate,onChange:d,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",children:"End date"}),e.jsx("input",{className:"w-full rounded-lg",name:"edate",type:"date",value:a.edate,onChange:d,required:!0}),e.jsx("input",{className:"w-full rounded-lg",name:"status",hidden:!0,type:"number",value:a.status,onChange:d,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",children:"Leave Reason"}),e.jsx("textarea",{className:"w-full rounded-lg",name:"reason",value:a.reason,onChange:d,required:!0})]}),e.jsx("div",{children:e.jsxs("select",{name:"is_unpaid",className:"p-2 rounded-md mt-5 w-[100%]",value:a.is_unpaid,onChange:d,children:[e.jsx("option",{value:"",children:"Select leave tag"}),e.jsx("option",{value:"0",children:"Paid"}),e.jsx("option",{value:"1",children:"Unpaid"})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",children:"Remarks"}),e.jsx("textarea",{className:"w-full rounded-lg",name:"remark",value:a.remark,onChange:d,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"documents",children:"Upload Documents (Multiple)"}),e.jsx("input",{type:"file",name:"documents",id:"documents",className:"w-full rounded-lg",multiple:!0,onChange:d})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 p-2 rounded-md text-white w-[30%]",children:"Update"})]})]})]})};export{U as default};
