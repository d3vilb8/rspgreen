import{r as o,W as O,j as e,a as H}from"./app-OWEBvdtC.js";import{H as R,N as G,b as J}from"./Nav-CmIRCLvo.js";import{N as U}from"./notyf.min-DLu_xjpT.js";import{M as x}from"./Modal-Di6ygOb6.js";import{a as p}from"./index-CGRCqaVb.js";import"./iconBase-hI8KM4xB.js";import"./index-BSTxKt_a.js";import"./transition-CLzje324.js";const t=new U,Z=({user:v,user_type:N,roles:y,notif:w,branches:C,department:F,designation:D})=>{const[k,j]=o.useState(!1),[S,b]=o.useState(!1),[B,_]=o.useState(!1),{data:a,setData:g,post:c,errors:s}=O({name:"",email:"",password:"",phone:"",address:"",dob:"",gender:"",joinning_date:"",branch_id:"",department_id:"",designation_id:"",company_doj:"",account_holder_name:"",account_number:"",bank_name:"",bank_identifier_code:"",branch_location:"",tax_payer_id:"",roleemployee:"",net_salary:"",basic_salary:"",ifsc_code:"",apc_no:"",ptax_no:"",pf_no:"",esi_no:"",pan_no:"",aadhar_no:"",documents:[{name:"",type:"",file:null}],d_name:"",b_name:"",ds_name:"",cv:"",can_cheque:"",declaration:""});o.useState({history:[{company_name:"",department:"",role:""}],additional_information:"",employee_name:"",document_type:"",document_upload:null,basic_salary:"",gross_salary:""});const[E,L]=o.useState({documents:[]}),i=()=>{j(!1),b(!1),_(!1),setSelectedBranchId(null),reset("d_name")},n=l=>{g(l.target.name,l.target.value)},A=l=>{l.preventDefault();const d=E.documents.filter(r=>r.name&&r.type&&r.file),m={...a,documents:d};c("/employees-store",{data:m,onSuccess:()=>{t.success("Employee created successfully")},onError:r=>{typeof r=="object"&&r!==null?Object.entries(r).forEach(([f,u])=>{Array.isArray(u)?u.forEach(P=>t.error(P)):t.error(u)}):t.error("An unexpected error occurred.")}})},q=l=>{l.preventDefault(),c("/departments",{onSuccess:()=>{t.success("Department created successfully"),reset(),i()},onError:d=>{d&&typeof d=="object"?Object.entries(d).forEach(([m,r])=>{Array.isArray(r)?r.forEach(f=>t.error(f)):t.error(r)}):t.error("An unexpected error occurred.")}})},M=l=>{l.preventDefault(),c("/branches",{onSuccess:()=>{t.success("Branch created successfully!"),fetchBranches(),i()},onError:()=>{t.error("An error occurred while creating the branch.")}})},I=l=>{l.preventDefault(),c("/designations",{onSuccess:()=>{t.success("Branch created successfully!"),fetchBranches(),i()},onError:()=>{t.error("An error occurred while creating the branch.")}})},h=l=>{const{name:d,files:m}=l.target;g(d,m[0])};return e.jsxs("div",{className:"w-[85.2%] ml-[11.5rem] absolute right-0",children:[e.jsx(R,{user:v,notif:w}),e.jsx(G,{user_type:N}),e.jsxs("div",{className:"p-3 table-section",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"grid p-2 mt-2 text-white bg-blue-800 rounded-lg place-items-center",children:e.jsx(H,{href:"employees",children:e.jsx(J,{className:"text-[1rem]"})})})})}),e.jsxs("form",{onSubmit:A,className:"px-[8rem] grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-2",children:e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Personal Details"})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",children:"Name"}),e.jsx("input",{id:"name",className:"w-full rounded-lg",name:"name",type:"text",value:a.name,onChange:n,required:!0}),s.name&&e.jsx("div",{children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{id:"email",className:"w-full rounded-lg",name:"email",type:"email",value:a.email,onChange:n,required:!0}),s.email&&e.jsx("div",{children:s.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{id:"password",className:"w-full rounded-lg",name:"password",type:"password",value:a.password,onChange:n,required:!0}),s.password&&e.jsx("div",{children:s.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",children:"Phone"}),e.jsx("input",{id:"phone",className:"w-full rounded-lg",name:"phone",type:"text",value:a.phone,onChange:n,required:!0}),s.phone&&e.jsx("div",{children:s.phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",children:"Address"}),e.jsx("input",{id:"address",className:"w-full rounded-lg",name:"address",type:"text",value:a.address,onChange:n,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dob",children:"Date of Birth"}),e.jsx("input",{id:"dob",className:"w-full rounded-lg",name:"dob",type:"date",value:a.dob,onChange:n,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gender",children:"Gender"}),e.jsxs("select",{id:"gender",className:"w-full rounded-lg",name:"gender",value:a.gender,onChange:n,children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"joinning_date",children:"Joining Date"}),e.jsx("input",{id:"joinning_date",className:"w-full rounded-lg",name:"joinning_date",type:"date",value:a.joinning_date,onChange:n,required:!0})]}),e.jsx("div",{className:"col-span-2 mt-4",children:e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Company Details"})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"branch_id",children:"Branch ID"}),e.jsxs("select",{id:"branch_id",className:"w-full rounded-lg",name:"branch_id",value:a.branch_id,onChange:n,children:[e.jsx("option",{value:"",children:"Select Branch"}),C.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]})]}),e.jsx("div",{className:"grid place-items-center mt-5",children:e.jsx("a",{onClick:()=>b(!0),className:" rounded bg-blue-950 text-white p-2 h-[2rem]",children:e.jsx(p,{})})})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"department_id",children:"Department ID"}),e.jsxs("select",{id:"branch_id",className:"w-full rounded-lg",name:"department_id",value:a.department_id,onChange:n,children:[e.jsx("option",{value:"",children:"Select Department"}),F.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]})]}),e.jsx("div",{className:"grid place-items-center mt-5",children:e.jsx("a",{onClick:()=>j(!0),className:" rounded bg-blue-950 text-white p-2 h-[2rem]",children:e.jsx(p,{})})})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"designation_id",children:"Designation ID"}),e.jsxs("select",{id:"designation_id",className:"w-full rounded-lg",name:"designation_id",value:a.designation_id,onChange:n,children:[e.jsx("option",{value:"",children:"Select Designation"}),D.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]})]}),e.jsx("div",{className:"grid place-items-center mt-5",children:e.jsx("a",{onClick:()=>_(!0),className:" rounded bg-blue-950 text-white p-2 h-[2rem]",children:e.jsx(p,{})})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"company_doj",children:"Company Date of Joining"}),e.jsx("input",{id:"company_doj",className:"w-full rounded-lg",name:"company_doj",type:"date",value:a.company_doj,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"roleemployee",children:"Role"}),e.jsxs("select",{id:"roleemployee",className:"w-full rounded-lg",name:"roleemployee",value:a.roleemployee,onChange:n,children:[e.jsx("option",{value:"",children:"Select Role"}),y.map(l=>e.jsx("option",{value:l.name,children:l.name},l.id))]})]}),e.jsx("div",{className:"col-span-2 mt-4",children:e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Bank Details"})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"account_holder_name",children:"Account Holder Name"}),e.jsx("input",{id:"account_holder_name",className:"w-full rounded-lg",name:"account_holder_name",type:"text",value:a.account_holder_name,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"account_number",children:"Account Number"}),e.jsx("input",{id:"account_number",className:"w-full rounded-lg",name:"account_number",type:"text",value:a.account_number,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_name",children:"Bank Name"}),e.jsx("input",{id:"bank_name",className:"w-full rounded-lg",name:"bank_name",type:"text",value:a.bank_name,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_identifier_code",children:"Bank Identifier Code"}),e.jsx("input",{id:"bank_identifier_code",className:"w-full rounded-lg",name:"bank_identifier_code",type:"text",value:a.bank_identifier_code,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"branch_location",children:"Branch Location"}),e.jsx("input",{id:"branch_location",className:"w-full rounded-lg",name:"branch_location",type:"text",value:a.branch_location,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tax_payer_id",children:"Basic salary *"}),e.jsx("input",{id:"tax_payer_id",className:"w-full rounded-lg",name:"basic_salary",type:"text",value:a.basic_salary,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tax_payer_id",children:"Gross salary *"}),e.jsx("input",{id:"tax_payer_id",className:"w-full rounded-lg",name:"net_salary",type:"text",value:a.net_salary,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"apc_no",children:"APC No"}),e.jsx("input",{id:"apc_no",className:"w-full rounded-lg",name:"apc_no",type:"text",value:a.apc_no,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_name",children:"IFSC Code"}),e.jsx("input",{id:"ifsc_code",className:"w-full rounded-lg",name:"ifsc_code",type:"text",value:a.ifsc_code,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_name",children:"PTAX NO"}),e.jsx("input",{id:"ptax_no",className:"w-full rounded-lg",name:"ptax_no",type:"text",value:a.ptax_no,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_name",children:"PF NO"}),e.jsx("input",{id:"pf_no",className:"w-full rounded-lg",name:"pf_no",type:"text",value:a.pf_no,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"esi_no",children:"ESI NO"}),e.jsx("input",{id:"esi_no",className:"w-full rounded-lg",name:"esi_no",type:"text",value:a.esi_no,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pan_no",children:"Pan NO"}),e.jsx("input",{id:"pan_no",className:"w-full rounded-lg",name:"pan_no",type:"text",value:a.pan_no,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"aadhar_no",children:"AAdhar NO"}),e.jsx("input",{id:"aadhar_no",className:"w-full rounded-lg",name:"aadhar_no",type:"text",value:a.aadhar_no,onChange:n})]}),e.jsx("div",{className:"col-span-2 mt-4",children:e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"History"})}),e.jsxs("div",{className:"col-span-2 mt-6",children:[e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Employee Documents"}),e.jsxs("div",{className:"grid grid-cols-3 gap-5",children:[e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("h1",{children:"CV Upload"}),e.jsx("input",{type:"file",onChange:h,name:"cv",id:"",className:"border p-2"}),e.jsx("img",{src:a.cv,alt:""})]}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("h1",{children:"Cancle Cheque Upload"}),e.jsx("input",{type:"file",onChange:h,name:"can_cheque",id:"",className:"border p-2"})]}),e.jsxs("div",{className:"",children:[e.jsx("h1",{children:"Declaration"}),e.jsx("input",{type:"file",onChange:h,name:"declaration",id:"",className:"border p-2"})]})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 p-2 rounded-md text-white w-[30%] col-span-2",children:"Create"})]})]}),e.jsxs(x,{show:k,onClose:i,children:[e.jsx("h2",{className:"text-lg font-bold p-4",children:"Create Department"}),e.jsxs("form",{onSubmit:q,className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Department Name"}),e.jsx("input",{type:"text",id:"d_name",name:"d_name",value:a.d_name,onChange:n,className:"w-full p-3 border rounded",placeholder:"Enter department name"}),s.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.name})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Create"})})]})]}),e.jsxs(x,{show:S,onClose:i,children:[e.jsx("h2",{className:"text-lg font-bold p-4",children:"Create Branch"}),e.jsxs("form",{onSubmit:M,className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Branch Name"}),e.jsx("input",{type:"text",id:"b_name",name:"b_name",value:a.b_name,onChange:n,className:"w-full p-3 border rounded",placeholder:"Enter department name"}),s.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.name})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Create"})})]})]}),e.jsxs(x,{show:B,onClose:i,children:[e.jsx("h2",{className:"text-lg font-bold p-4",children:"Create Branch"}),e.jsxs("form",{onSubmit:I,className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Designation Name"}),e.jsx("input",{type:"text",id:"ds_name",name:"ds_name",value:a.ds_name,onChange:n,className:"w-full p-3 border rounded",placeholder:"Enter department name"}),s.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.name})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Create"})})]})]})]})};export{Z as default};
