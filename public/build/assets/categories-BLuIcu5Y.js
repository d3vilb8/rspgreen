import{q as y,r as l,W as g,j as e}from"./app-OWEBvdtC.js";import{H as v,N as C}from"./Nav-CmIRCLvo.js";import"./iconBase-hI8KM4xB.js";import"./index-CGRCqaVb.js";import"./index-BSTxKt_a.js";const A=()=>{const{categories:x}=y().props,[m,d]=l.useState(!1),[t,n]=l.useState(!1),[o,p]=l.useState(null),{data:u,setData:a,post:b,put:h,reset:j,errors:c}=g({name:""}),i=(s=null)=>{s?(n(!0),p(s),a({name:s.name})):(n(!1),a({name:""})),d(!0)},r=()=>{d(!1),j()},N=s=>{s.preventDefault(),t&&o?h(`/service-categories/${o.id}`,{onSuccess:()=>r()}):b("/service-categories",{onSuccess:()=>r()})},f=s=>{confirm("Are you sure you want to delete this category?")&&Inertia.delete(`/service-categories/${s}`)};return e.jsxs("div",{className:"w-[83.2%] absolute right-0 overflow-hidden",children:[e.jsx(v,{}),e.jsx(C,{}),e.jsxs("div",{className:"container p-4 mx-auto",children:[e.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Service Categories"}),e.jsx("button",{onClick:()=>i(),className:"px-4 py-2 mb-4 text-white bg-blue-500 rounded-md",children:"Add New Category"}),e.jsxs("table",{className:"w-full text-left border",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"px-4 py-2 border",children:"ID"}),e.jsx("th",{className:"px-4 py-2 border",children:"Name"}),e.jsx("th",{className:"px-4 py-2 border",children:"Actions"})]})}),e.jsx("tbody",{children:x.map(s=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"px-4 py-2",children:s.id}),e.jsx("td",{className:"px-4 py-2",children:s.name}),e.jsxs("td",{className:"flex px-4 py-2 space-x-2",children:[e.jsx("button",{onClick:()=>i(s),className:"px-2 py-1 text-blue-500 border border-blue-500 rounded",children:"Edit"}),e.jsx("button",{onClick:()=>f(s.id),className:"px-2 py-1 text-red-500 border border-red-500 rounded",children:"Delete"})]})]},s.id))})]}),m&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:e.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg w-96",children:[e.jsx("h2",{className:"mb-4 text-lg font-bold",children:t?"Edit Category":"Add New Category"}),e.jsxs("form",{onSubmit:N,children:[e.jsx("label",{className:"block mb-2 text-sm",children:"Name"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 mb-2 border rounded-md",value:u.name,onChange:s=>a("name",s.target.value),required:!0}),c.name&&e.jsx("p",{className:"text-sm text-red-500",children:c.name}),e.jsxs("div",{className:"flex justify-end mt-4 space-x-2",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-600 bg-gray-200 rounded-md",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-500 rounded-md",children:t?"Update":"Add"})]})]})]})})]})]})};export{A as default};
