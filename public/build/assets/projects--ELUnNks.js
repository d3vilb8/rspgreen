import{r as a,j as e,a as m,b as C}from"./app-DecQ0f_S.js";import{H as v,N as L}from"./Nav-BWBa_EZw.js";import{R as S}from"./index-e435n7mr.js";import{C as E}from"./index-Y3mSmgPm.js";import{N as A}from"./notyf.min-DLu_xjpT.js";import"./iconBase-DWhxbjqT.js";import"./index-BPKSu1J7.js";import"./index-c1-G4gL8.js";const F=new A,O=({user:j,projects:c,user_type:u,notif:p})=>{const[r,f]=a.useState(""),[d,N]=a.useState(c),[o,i]=a.useState(1),[l]=a.useState(10);a.useEffect(()=>{const t=c.filter(s=>s.title.toLowerCase().includes(r.toLowerCase())||s.start_date.toLowerCase().includes(r.toLowerCase())||s.end_date.toLowerCase().includes(r.toLowerCase()));N(t)},[r,c]);const n=o*l,b=n-l,x=d.slice(b,n),g=Math.ceil(d.length/l),w=Array.from({length:g},(t,s)=>s+1),y=t=>{f(t.target.value),i(1)},P=(t,s)=>{t.preventDefault(),confirm("Are you sure you want to delete this project?")&&C.get(`/projects-delete/${s}`).then(h=>{F.success("Project and related assignments deleted successfully."),window.location.reload()}).catch(h=>{console.log(h)})};return e.jsxs("div",{className:"w-[85.2%] absolute right-0 overflow-hidden",children:[e.jsx(v,{user:j,notif:p}),e.jsx(L,{user_type:u}),e.jsxs("div",{className:"table-section border-[#0A1B3F] py-3 px-8 rounded-b-md",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"w-[40%]",children:e.jsx("input",{type:"text",value:r,onChange:y,placeholder:"Search projects...",className:"p-2 border rounded-md w-[80%]"})}),e.jsx("div",{className:"px-4",children:e.jsx(m,{href:"projects-create",className:"flex space-x-2 underline",children:e.jsx("span",{className:"font-bold",children:"Create New Project"})})})]}),e.jsx("br",{}),e.jsxs("table",{className:"table w-full p-4 border",children:[e.jsx("thead",{className:"border bg-[#0A1B3F] text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left border",children:"Project Name"}),e.jsx("th",{className:"p-3 text-left border",children:"Start Date"}),e.jsx("th",{className:"p-3 text-left border",children:"End Date"}),e.jsx("th",{className:"p-3 text-left border",children:"Estimate hours"}),e.jsx("th",{className:"p-3 text-left border",children:"Priority"}),e.jsx("th",{className:"p-3 text-left border",children:"Action"})]})}),e.jsx("tbody",{children:x.length>0?x.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-3 border",children:t.title}),e.jsx("td",{className:"p-3 border",children:t.start_date}),e.jsx("td",{className:"p-3 border",children:t.end_date}),e.jsxs("td",{className:"p-3 border",children:[t.estimate_time,"hrs"]}),e.jsx("td",{className:"p-3 border",children:t.priority==0?"Low":t.priority==1?"Medium":"High"}),e.jsx("td",{className:"border",children:e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx(m,{className:"text-green-800 text-[1.1rem] bg-[#0C7785] p-1 rounded-md",href:`projects-edit/${t.id}`,children:e.jsx(E,{className:"text-white"})}),e.jsx("button",{className:"text-white text-[1.1rem] bg-[#FF3A6E] p-1 rounded-md",onClick:s=>P(s,t.id),children:e.jsx(S,{})})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"p-3 text-center",children:"No projects found"})})})]}),e.jsx("div",{className:"flex justify-center mt-4",children:w.map(t=>e.jsx("button",{onClick:()=>i(t),className:`px-4 py-2 mx-1 rounded ${o===t?"bg-blue-500 text-white":"bg-gray-200"}`,children:t},t))})]})]})};export{O as default};
